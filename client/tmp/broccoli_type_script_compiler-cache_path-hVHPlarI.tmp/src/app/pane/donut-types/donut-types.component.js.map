{"version":3,"file":"donut-types.component.js","sourceRoot":"","sources":["../../../Users/MMT/pokemans/pokebase_cli/tmp/broccoli_type_script_compiler-input_base_path-yISLAEmG.tmp/0/src/app/pane/donut-types/donut-types.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAA2E,eAC3E,CAAC,CADyF;AAC1F,yBAAmB,UACnB,CAAC,CAD4B;AAc7B;IAAA;IAwDA,CAAC;IAnDC,sCAAQ,GAAR;QACE,IAAI,CAAC,OAAO,GAAG;YACb,KAAK,EAAE;gBACL,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,GAAG;gBACV,MAAM,EAAE,GAAG;gBACX,KAAK,EAAE,IAAI;gBACX,YAAY,EAAE,IAAI;gBAClB,QAAQ,EAAE,IAAI;gBACd,KAAK,EAAE,OAAO;gBACd,MAAM,EAAE;oBACN,GAAG,EAAE,CAAC;oBACN,KAAK,EAAE,CAAC;oBACR,MAAM,EAAC,CAAC;oBACR,IAAI,EAAE,CAAC;iBACR;gBACD,CAAC,EAAE,UAAS,CAAC,IAAE,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAA,CAAC;gBAC9B,CAAC,EAAE,UAAS,CAAC,IAAE,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAA,CAAC;gBAC7B,UAAU,EAAE,KAAK;gBACjB,GAAG,EAAE;oBACH,UAAU,EAAE,UAAS,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,UAAU,GAAE,IAAI,CAAC,EAAE,GAAC,CAAC,CAAA,CAAC,CAAC;oBAC1D,QAAQ,EAAE,UAAS,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,QAAQ,GAAE,IAAI,CAAC,EAAE,GAAC,CAAC,CAAA,CAAC,CAAC;iBACvD;gBACD,QAAQ,EAAE,GAAG;gBACb,MAAM,EAAE;oBACN,MAAM,EAAE;wBACN,GAAG,EAAE,CAAC;wBACN,KAAK,EAAE,EAAE;wBACT,MAAM,EAAE,CAAC;wBACT,IAAI,EAAE,CAAC;qBACR;iBACF;aACF;SACF,CAAA;QACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAA;IACnD,CAAC;IACD,yCAAW,GAAX,UAAY,OAAY;QACtB,IAAI,GAAG,GAAU,EAAE,CAAC;QACpB,EAAE,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,CAAC;YAClB,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAA;YAC9C,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;QACrD,CAAC;IACH,CAAC;IACD,0CAAY,GAAZ,UAAa,KAAY;QACvB,IAAI,GAAG,GAAU,EAAE,CAAC;QACpB,KAAK,CAAC,GAAG,CAAC,UAAS,GAAG;YACpB,GAAG,CAAC,GAAG,GAAG,KAAK,CAAC,MAAM,CAAA;YACtB,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;QACf,CAAC,CAAC,CAAA;QACF,MAAM,CAAC,GAAG,CAAA;IACZ,CAAC;IAtDD;QAAC,YAAK,EAAE;;wDAAA;IACR;QAAC,gBAAS,CAAC,eAAI,CAAC;;qDAAA;IAblB;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,aAAa;YACvB,SAAS,EAAE,CAAC,gDAAgD,CAAC;YAC7D,UAAU,EAAE,CAAC,eAAI,CAAC;YAClB,QAAQ,EAAE,8GAIT;SACF,CAAC;;2BAAA;IA0DF,0BAAC;AAAD,CAAC,AAxDD,IAwDC;AAxDY,2BAAmB,sBAwD/B,CAAA","sourcesContent":["import {Component, Input, OnInit, ViewChild, OnChanges, SimpleChange} from '@angular/core'\nimport {nvD3} from 'ng2-nvd3'\ndeclare let d3: any\n\n@Component({\n  selector: `donut-types`,\n  styleUrls: ['app/pane/donut-types/donut-types.component.css'],\n  directives: [nvD3],\n  template: `\n    <div class=\"donut\">\n      <nvd3 #nvD3 [options]=\"options\" [data]=\"data\"></nvd3>\n    </div>\n  `\n})\n\nexport class DonutTypesComponent implements OnInit, OnChanges{\n  @Input() pokemon: any;\n  @ViewChild(nvD3) nvD3: nvD3;\n  options: any;\n  data: any;\n  ngOnInit(){\n    this.options = {\n      chart: {\n        type: 'pieChart',\n        width: 130,\n        height: 130,\n        donut: true,\n        cornerRadius: true,\n        padAngle: 0.05,\n        title: \"Types\",\n        margin: {\n          top: 0,\n          right: 0,\n          bottom:0,\n          left: 0\n        },\n        x: function(d){return d.name;},\n        y: function(d){return d.pie;},\n        showLabels: false,\n        pie: {\n          startAngle: function(d) { return d.startAngle -Math.PI/2 },\n          endAngle: function(d) { return d.endAngle -Math.PI/2 }\n        },\n        duration: 500,\n        legend: {\n          margin: {\n            top: 5,\n            right: 30,\n            bottom: 5,\n            left: 0\n          }\n        }\n      }\n    }\n    this.data = this.pokemonTypes(this.pokemon.types)\n  }\n  ngOnChanges(changes: any){\n    var arr: any[] = [];\n    if(this.nvD3.chart){\n      var types = changes.pokemon.currentValue.types\n      this.nvD3.updateWithData(this.pokemonTypes(types));\n    }\n  }\n  pokemonTypes(types: any[]){\n    var arr: any[] = [];\n    types.map(function(obj){\n      obj.pie = types.length\n      arr.push(obj)\n    })\n    return arr\n  }\n}\n"]}